<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Stock Tracker</h2>

    <div id="sidebar">
        <a href="{{url_for('dashboard.dashboard')}}">Dashboard</a>
        <a href="{{url_for('utilities.add_utilities')}}">Utilities</a>
        <a href="{{url_for('expenses.add_expense')}}">Add Expense</a>
        <a href="{{url_for('gas.add_gas')}}">Gas</a>
        <a href="{{url_for('stock.stock_tracker')}}">Stock Tracker</a>
    </div>

    <form method="POST">
        <label for="symbol">Stock Symbol:</label>
        <input type="text" id="symbol" name="symbol" required>
        <label for="shares">Shares Purchased:</label>
        <input type="number" id="shares" name="shares" required>
        <button type="submit">Track Stock</button>
    </form>
    
    <h3>Your Portfolio</h3>
    <table>
        <tr>
            <th>Stock Symbol</th>
            <th>Shares</th>
            <th>Purchase Price</th>
            <th>Current Price</th>
            <th>Gain/Loss</th>
        </tr>
        {% for stock in stocks %}
        <tr>
            <td>{{ stock.symbol }}</td>
            <td>{{ stock.shares }}</td>
            <td>{{ stock.purchase_price }}</td>
            <td>{{ stock.current_price }}</td>
            <td>
                {% if stock.current_price is not none and stock.purchase_price is not none %}
                    {{ (stock.current_price - stock.purchase_price) * stock.shares }}
                {% else %}
                    N/A  <!-- Display 'N/A' or some other placeholder if prices are not available -->
                {% endif %}
            </td>
            
        </tr>
        {% endfor %}
    </table>
    
</body>
</html>